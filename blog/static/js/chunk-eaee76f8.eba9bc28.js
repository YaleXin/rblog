(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eaee76f8"],{3530:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"admin-div"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("navigation")],1),a("el-col",{staticClass:"content",attrs:{span:21}},[a("keep-alive",[a("router-view")],1)],1)],1)],1)},s=[],i=a("e35a"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeIndex},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("博客")])]),a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-collection-tag"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类")])]),a("el-menu-item",{attrs:{index:"3"}},[a("i",{staticClass:"el-icon-price-tag"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("标签")])]),a("el-menu-item",{attrs:{index:"4"}},[a("i",{staticClass:"el-icon-s-comment"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("评论")])]),a("el-menu-item",{attrs:{index:"5"}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v(" 用户 "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.logined?a("el-dropdown-item",{nativeOn:{click:function(t){return e.handleSelect("5-1",null)}}},[e._v("修改信息")]):e._e(),e.logined?a("el-dropdown-item",{nativeOn:{click:function(t){return e.handleSelect("5-2",null)}}},[e._v("注销")]):e._e()],1)],1)],1)],1)],1)},c=[],r=(a("ac1f"),a("5319"),{name:"Navigation",components:{},methods:{handleSelect:function(e,t){"5-2"===e?this.logout():this.changeAdminRoute(e)},logoutSuccess:function(){this.$message({message:"注销成功",type:"success",showClose:!0}),this.$store.commit("removeUser"),this.$router.replace("/admin/login").catch((function(e){}))},logout:function(){var e=this;i["a"].delete("/admin/logout/").then((function(t){t.data>0&&e.logoutSuccess()})).catch((function(e){}))},changeAdminRoute:function(e){switch(e){case"1":this.$router.replace("/admin/blog").catch((function(e){}));break;case"2":this.$router.replace("/admin/category").catch((function(e){}));break;case"3":this.$router.replace("/admin/tag").catch((function(e){}));break;case"4":this.$router.replace("/admin/comment").catch((function(e){}));break;case"5":case"5-1":this.$router.replace("/admin/user").catch((function(e){}));break;default:this.$router.replace("/admin/index").catch((function(e){}))}}},computed:{activeIndex:function(){var e="-1",t=this.$route.path;switch(t){case"/admin/blog":e="1";break;case"/admin/category":e="2";break;case"/admin/tag":e="3";break;case"/admin/comment":e="4";break;default:e="-1"}return e},logined:function(){return this.$store.state.user.id>0}}}),l=r,u=a("2877"),d=Object(u["a"])(l,o,c,!1,null,"ecdb1e72",null),m=d.exports,h={name:"Admin",components:{Navigation:m},methods:{getUser:function(){var e=this;i["a"].get("/admin/user/info").then((function(t){void 0!==t.data&&e.$store.commit("saveUser",t.data)})).catch((function(e){}))}},created:function(){},activated:function(){"/admin/login"!==this.$route.path&&this.getUser();var e=document.getElementById("admin-div").parentElement;e.style.maxWidth="100%"}},f=h,p=Object(u["a"])(f,n,s,!1,null,"6bf579fa",null);t["default"]=p.exports},e35a:function(e,t,a){"use strict";a("c975");var n=a("bc3a"),s=a.n(n),i=a("5c96"),o=s.a.create({baseURL:"/api",timeout:5e3});o.interceptors.response.use((function(e){switch(e.status){}return e}),(function(e){var t=e.response;if(void 0===t.status)Object(i["Message"])({showClose:!0,message:"后端未部署",type:"error"});else switch(t.status){case 400:Object(i["Message"])({showClose:!0,message:"发送数据错误",type:"error"});break;case 480:i["MessageBox"].alert("登录信息超时，请重新登录!","登录超时",{confirmButtonText:"跳至登录界面",callback:function(e){var t=window.location.href;if(-1===t.indexOf("/admin/login")){var a="/blog";window.location.href=a+"/admin/login"}}});break;case 500:Object(i["Message"])({showClose:!0,message:"后端出错",type:"error"});break}return e})),t["a"]=o}}]);
//# sourceMappingURL=chunk-eaee76f8.eba9bc28.js.map