(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e228a"],{"7e06":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-divider",{attrs:{"content-position":"center"}},[t._v(" 历史留言 "),n("i",{staticClass:"el-icon-s-comment"})]),n("comment-list",{attrs:{comments:t.commentList}}),n("el-divider",{attrs:{"content-position":"center"}},[t._v(" 开始留言 "),n("i",{staticClass:"el-icon-edit"})]),t.commentFinished?t._e():n("comment-input",{on:{"comment-submit":t.submitComment}})],1)},m=[],o=n("e35a"),i=n("89e4"),c=n("cfba"),a={name:"Talk",components:{CommentInput:i["a"],CommentList:c["a"]},data:function(){return{commentList:[],commentFinished:!1}},created:function(){this.loadCommentsByBlogId(0)},methods:{loadCommentsByBlogId:function(t){var e=this;void 0===t||t<0?this.$message({showClose:!0,type:"error",message:"无法请求留言"}):o["a"].get("/comment/"+t).then((function(t){e.commentList=t.data.comments})).catch((function(t){}))},submitCommentSuccess:function(){this.$message({showClose:!0,message:"评论成功，请耐心等待管理员审核",type:"success"}),this.commentFinished=!0},submitCommentFail:function(t){this.$message({showClose:!0,message:"评论失败，原因："+t,type:"error"})},submitComment:function(t){var e=this;t.blogId=0,o["a"].put("/comment/add",{data:JSON.stringify(t)}).then((function(t){var n=t.data.result;0==n?e.submitCommentFail("不明"):1==n?e.submitCommentSuccess():2==n&&e.submitCommentFail("过于频繁，请一分钟后尝试")})).catch((function(t){}))}}},u=a,r=n("2877"),d=Object(r["a"])(u,s,m,!1,null,"de85abbc",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0e228a.97d1e6fc.js.map